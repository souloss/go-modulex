## ModuleX
ModuleX 是一个基于整洁架构设计的高度模块化框架，为开发者提供灵活的架构分层和模块扩展能力。无论是一次性任务应用，后台服务，还是复杂业务系统，ModuleX 都能够帮助开发者以最简洁的方式构建和管理高可维护性的应用。ModuleX 设计简洁、高度解耦，为开发者打造一个自由扩展的开发体验。

## 为什么选择 ModuleX？
在现代软件开发中，我们面临的主要挑战包括：
业务需求的复杂性：业务逻辑越来越复杂，需求不断变化。
模块解耦的需求：需要一个分离的、解耦的架构，以便团队在不同层级进行开发。
快速迭代的压力：需要一个能快速响应需求变化的框架。
跨功能支持：现代应用需要数据库、缓存、Web 服务、后台任务等多种模块支持。
ModuleX 正是为了解决这些问题而生。它将整洁架构的优势带入模块化设计，使业务代码和框架代码解耦，实现模块间的低耦合和清晰分层，让开发者专注于业务逻辑，简化系统的开发与维护。

## 核心优势
1. 清晰的架构分层
ModuleX 基于整洁架构的思想，采用了高度模块化的设计，将业务逻辑、数据访问、接口层和框架核心解耦。如下图所示，ModuleX 将每个模块视作独立的单元，并定义了应用生命周期的钩子函数，方便模块间独立初始化、启动和关闭：

2. 灵活的模块扩展性
ModuleX 允许通过实现 Module 和 BootableModule 接口，开发定制化模块，比如数据库、缓存、Web 服务等模块。各模块可以根据需求被单独配置、管理，并通过配置文件来动态启用或禁用模块。
- 数据库支持：内置数据库模块，支持多种数据库（如 MySQL、PostgreSQL 等）配置。
- 缓存支持：通过缓存模块，能够轻松集成 Redis 等缓存服务。
- Web 服务支持：可以方便地接入 Web 框架，如 Gin、Echo 等。


3. 低耦合性
在ModuleX 中，应用的业务逻辑与框架保持高度解耦，通过清晰的接口与生命周期钩子管理各模块。各模块之间仅通过接口交互，任何模块都可以单独替换或更新，而不会影响到其它模块。实现了真正的低耦合，便于系统维护和扩展。

4. 应用管理器 (Application Manager)
ModuleX 内置了一个强大的应用管理器，用于监控、配置和管理应用生命周期。开发者可以利用管理器对应用进行注册、启动、停止以及状态监控。应用管理器还提供健康检查功能，确保各模块在生产环境中稳定运行。

5. 开发体验与生产稳定性
ModuleX 通过模块化的开发流程和丰富的钩子函数，简化了开发过程。开发者可以轻松扩展或移除模块，而不需要担心模块间依赖的耦合问题。此外，应用管理器提供的健康检查和监控能力，让开发者可以在生产环境中更加放心地管理应用。

## 设计理念
现代应用程序的基本基调都是：
1. 从启动参数，环境，文件系统，网络等目标获取应用启动 **应用配置**； 
2. 根据 **应用配置** 初始化系统所需要的各式各样功能的模块，这里的模块类型又可以分为：
    - 一次性模块：只需要在应用启动时进行一次初始化的模块，例如**日志模块**，**数据库模块**，**缓存模块**等；
    - 可启动模块：需要随着应用持续运行的模块，例如**WEB模块**，**CRON模块**，**任务队列模块**，**监控模块**等；

同时为了适应现代业务开发的快速变化以及降低外部框架对自己项目的影响，我们都会为自己所需要的能力定义一套最小的接口，让核心逻辑依赖于接口而不是具体框架，通过具体框架以及相关的**适配器**代码实现该接口，其实这就是[整洁架构](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)的核心思想，通过合适的架构分层，使核心业务代码独立于外部依赖，UI，框架，数据库，提升可测试性，实实在在地提升项目的质量与可控性。

## 使用示例
以下是一个典型的ModuleX 应用示例，展示如何创建一个带数据库和缓存支持的后台应用：
```go
package main


```



## TODO
[优雅重启方案](https://blog.cloudflare.com/graceful-upgrades-in-go/)
[swagger文档自动生成方案]
[优化API的清晰程度]
[CRON方案]
 - [健康检查]
 - [缓存预热]
 - [数据清理]
 - [报表生成]
[遥感方案]
- https://opentelemetry.opendocs.io/
- https://github.com/uptrace/opentelemetry-go-extra/
- https://github.com/open-telemetry/opentelemetry-go-contrib/tree/main